{"version":3,"sources":["backend/graphql/mutations/egov.js"],"names":["updateGroup","type","args","g","resolve","root","action","group","name","title","creater","member","saveAsync","then","ids","flatMap","m","findAsync","_id","$in","forEach","users","user","groups","push","id","findOneAsync","memberOut","memberIn","difference","idsOut","idsIn","splice","indexOf","recent","findIndex","r","sk","userId","emit","leave","join","toGroup","messages","message","removeAsync","updateUser","u","friends","contactId","groupId","avatar"],"mappings":"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","file":"egov.js","sourceRoot":"../../../../../../.."}