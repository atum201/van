<html>
    <head>
        <title>Chat Demo</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="css/live.css">
        
    </head>
    <body>
        <script src="/socket.io/socket.io.js" type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="js/chat.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/lodash/4.16.1/lodash.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <style>
            .hidden{
                display: none;
            }
        </style>
        <script type="text/javascript">
            // var socket = io();
            // var user = {userId:"latuan"};
            // // var user = {userId:"lddanh"};
            // var chatapp = new ChatApp(user,socket);
            // $("body").append(chatapp.dom);
            var xhr = new XMLHttpRequest();
            xhr.responseType = 'json';
            xhr.open("POST", "http://localhost:3000/graphql");
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Accept", "application/json, text/javascript, */*; q=0.01");
            xhr.setRequestHeader("Accept-Encoding","gzip, deflate");
            xhr.setRequestHeader("Accept-Language","en-US,en;q=0.5");
            xhr.setRequestHeader("Access-Control-Allow-Origin","*");
            xhr.onload = function () {
              console.log('data returned:', xhr.response);
            }
            var variable = {"g":{"title":"nhom 1", "member":[] }};
            var query = "mutation CreateGroup19($g:g){createGroupById(g:$g) {id }}"
            xhr.send(JSON.stringify({query: '{'+query+','+JSON.stringify(variable)+'}'}));

            
            // var query = {};
            // var field = "id";
            // chat_queryGraphql("http://123.31.10.29/graphql",'query={'+query+','+JSON.stringify(variable)+'}',
            //     function(data){
            //         console.log(data);
            //     });
        </script>
    </body>
</html>